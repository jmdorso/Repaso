/*
 ============================================================================
 Name        : TpOrquestasMusicos.c
 Author      : 
 Version     :
 Copyright   : Your copyright notice
 Description : Hello World in C, Ansi-style
 ============================================================================
 */

#include <stdio.h>
#include <stdio_ext.h>
#include <stdlib.h>
#include <string.h>
#include "utn.h"
#include "orquestas.h"
#include "instrumentos.h"
#include "musicos.h"

#define ALTA_OK 1
#define ALTA_DNS 0

int main(void)
{
	char seguir = 's';
	char salir;
	char confirmarBaja;
	char confirmarModif;
	Orquesta unaOrquestaAlta;
	Orquesta unaOrquestaBaja;
	Orquesta aOrquesta[CANT_ORQUESTAS];
	int opcion;
	int flagAlta=ALTA_DNS;
	int auxId;

	initLugarLibreOrquesta(aOrquesta,CANT_ORQUESTAS);
	imprimirArrayOrquestas(aOrquesta,5);

	do
	{
		printf("----------------------------------------------------------------------------------\n");
	    printf("\tModelo primer parcial 1_2019. Gestion de orquestas || Juan Martin Dorso\n\n");
	    printf("01. Agregar Orquesta\n");
	    printf("02. Eliminar Orquesta\n");
	    printf("03. Imprimir Orquestas\n");
	    printf("04. Agregar Musico\n");
	    printf("05. Modificar Musico\n");
	    printf("06. Eliminar Musico\n");
	    printf("07. Imprimir Musicos\n");
	    printf("08. Agregar Instrumento\n");
	    printf("09. Imprimir Instrumentos\n");
	    printf("10. Informar\n");
	    printf("11. Salir\n\n");

	    if(getValidIntFromString(&opcion,"\tIngrese opcion: ","\nError",1,11,CANT_REINTENTOS)==0)
	    {
	    	switch(opcion)
	    	{
	    		case 1:
	    				if(altaUnaSolaOrquestaPorUI(&unaOrquestaAlta)==EXIT_SUCCESS)
	    				{
	    					if(altaOrquestaPorId(aOrquesta,CANT_ORQUESTAS,unaOrquestaAlta)==EXIT_SUCCESS)
	    					{
			    				flagAlta=ALTA_OK;
			    				printf("\n\nSe ingreso la orquesta con ID: # %d",unaOrquestaAlta.id);
	    					}
	    				}
	    				break;
	    		case 3:
	    				imprimirArrayOrquestasStatusOk(aOrquesta,CANT_ORQUESTAS);
	    				break;
	    		case 11:
	    				getChar(&salir,
	    						"\nSeguro desea salir? Ingrese s (o cualquier tecla para continuar): ",
	    						"\nERROR. Verifique si ingreso una letra y/o desactive mayuscula\n",
								'a',
	    						'z',
								CANT_REINTENTOS);
	    				if(salir == 's' || salir == 'S')
	    			     {
	    					printf("\n\n\tEl programa se cerrara.");
	    			        seguir = 'n';
	    			     }
	       				break;
	    	}
	    }
	}while(seguir=='s' || seguir=='S');

	return EXIT_SUCCESS;
}
